<!-- AsideBar -->
<div id="myAside" class="aside">
  <a href="javascript:void(0)" class="closebtn" (click)="closeAside()">&times;</a>
  <div class="aside-content">
    <p>
      AsideBar Content
    </p>

  </div>
</div>
<!-- NavBar  -->
<div class="topnav">
  <a class="active" href="#home">Home</a>
  <a href="#news">News</a>
  <a href="#contact">Contact</a>
  <a href="#about">About</a>
  <a href="javascript:void(0)" style="float: right; margin-right:14%;" (click)="openNav()"><span>&#9776;</span></a>
</div>
<!-- Main Content -->
<div class="content" id="main">
  <h4>Products List</h4>
  <div class="row">
    <div class="col-sm-12 text-right">
      <button type="button" class="btn btn-secondary waves-light" (click)="createModal.show()">Create </button>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12">
      <table class="table table-striped">
          <thead>
            <tr>
              <th>#</th>
              <th>Name</th>
              <th>Ref</th>
              <th>Description</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let p of products; let i= index">
              <th scope="row"></th>
              <td>{{p.name}}</td>
              <td>{{p.ref}}</td>
              <td>{{p.description}}</td>
              <td>
                <a class="mr-3"><i class="fa fa-pencil" (click)="updateModal.show(); saveProductId(p._id, i)"></i></a>
                <a (click)="deleteProduct(p._id, i)"><i class="fa fa-close"></i> </a>
              </td>
            </tr>
          </tbody>
          </table>
    </div>
  </div>

</div>

<!-- Create Product Modal  -->
<div mdbModal #createModal="mdb-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel" aria-hidden="true" [config]="{backdrop: false, ignoreBackdropClick: true}">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close pull-right" aria-label="Close" (click)="createModal.hide()">
                    <span aria-hidden="true">×</span>
                </button>
                <h4 class="modal-title w-100" id="myModalLabel">Create Product</h4>
            </div>
            <div class="modal-body">
              <div class="row">
                <div class="col-sm-12">
                  <div class="md-form">
                    <input type="text" placeholder="Name" name="name" [(ngModel)]="product.name"  class="form-control">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-12">
                    <div class="md-form">
                      <input type="text" placeholder="Ref"  name="ref" [(ngModel)]="product.ref" class="form-control">
                    </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-12">
                  <div class="md-form">
                    <input type="text" placeholder="Description" name="description" [(ngModel)]="product.description" class="form-control">
                  </div>
                </div>
              </div>


            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary waves-light" aria-label="Close" (click)="createModal.hide()" mdbRippleRadius>Close</button>
                <button type="button" class="btn btn-primary relative waves-light" mdbRippleRadius (click)="createProduct()">Create</button>
            </div>
        </div>
    </div>
</div>

<!-- Upadte Modal  -->
<div mdbModal #updateModal="mdb-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel" aria-hidden="true" [config]="{backdrop: false, ignoreBackdropClick: true}">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close pull-right" aria-label="Close" (click)="updateModal.hide()">
                    <span aria-hidden="true">×</span>
                </button>
                <h4 class="modal-title w-100" id="myModalLabel">Update Product</h4>
            </div>
            <div class="modal-body">
              <div class="row">
                <div class="col-sm-12">
                  <div class="md-form">
                    <input type="text" placeholder="Name" name="name" [(ngModel)]="product.name"  class="form-control">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-12">
                    <div class="md-form">
                      <input type="text" placeholder="Ref"  name="ref" [(ngModel)]="product.ref" class="form-control">
                    </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-12">
                  <div class="md-form">
                    <input type="text" placeholder="Description" name="description" [(ngModel)]="product.description" class="form-control">
                  </div>
                </div>
              </div>


            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary waves-light" aria-label="Close" (click)="updateModal.hide()" mdbRippleRadius>Close</button>
                <button type="button" class="btn btn-primary relative waves-light" mdbRippleRadius (click)="updateProduct()">Update</button>
            </div>
        </div>
    </div>
</div>
